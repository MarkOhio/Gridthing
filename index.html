<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CSS Grid Layout Generator</title>

<style>
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
}
body {
    background-color: #f5f7fa;
    color: #333;
    line-height: 1.6;
    padding: 20px;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
}
header {
    text-align: center;
    margin-bottom: 30px;
}
h1 {
    color: #2c3e50;
    margin-bottom: 10px;
}
.description {
    color: #7f8c8d;
    max-width: 700px;
    margin: 0 auto;
}
.app-container {
    display: flex;
    flex-direction: column;
    gap: 30px;
}
@media (min-width: 768px) {
    .app-container {
        flex-direction: row;
    }
    .controls {
        flex: 1;
    }
    .grid-section {
        flex: 2;
    }
}
.panel {
    background: #686868;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}
.form-group {
    margin-bottom: 15px;
}
label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: #2c3e50;
}
input[type="number"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
}
button {
    background: #3498db;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 500;
    transition: background 0.3s;
    width: 100%;
    margin-top: 10px;
}
button:hover {
    background: #2980b9;
}
.grid-display {
    position: relative;
    margin-top: 20px;
    border: 1px solid #ddd;
    overflow: auto;
}
.grid-container {
    display: grid;
    gap: 0;
    position: relative;
    min-height: 400px;
}
.grid-cell {
    border: 1px dashed #ddd;
    min-height: 40px;
    position: relative;
}
.axis-label {
    position: absolute;
    font-size: 12px;
    color: #7f8c8d;
    background: #f8f9fa;
    padding: 2px 5px;
    z-index: 1;
}
.col-label {
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
}
.row-label {
    left: -40px;
    top: 50%;
    transform: translateY(-50%);
}
.grid-item {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    cursor: move;
    z-index: 10;
    overflow: hidden;
    border: 2px solid;
}
.grid-item-number {
    font-size: 16px;
}
.grid-item-close {
    position: absolute;
    top: 2px;
    right: 5px;
    cursor: pointer;
    font-size: 14px;
    color: white;
    font-weight: bold;
}
.code-output {
    margin-top: 30px;
}
pre {
    background: #2c3e50;
    color: #ecf0f1;
    padding: 15px;
    border-radius: 4px;
    overflow: auto;
    max-height: 300px;
    margin-top: 10px;
    font-size: 14px;
}
.hidden {
    display: none;
}
.copy-btn {
    margin-top: 20px;
    background: #27ae60;
}
.color-1 { background: rgba(52,152,219,0.7); border-color:#3498db; }
.color-2 { background: rgba(46,204,113,0.7); border-color:#2ecc71; }
color-3 { background: rgba(155,89,182,0.7); border-color:#9b59b6; }
.color-4 { background: rgba(241,196,15,0.7); border-color:#f1c40f; }
.color-5 { background: rgba(230,126,34,0.7); border-color:#e67e22; }
.color-6 { background: rgba(231,76,60,0.7); border-color:#e74c3c; }
.color-7 { background: rgba(26,188,156,0.7); border-color:#1abc9c; }
.color-8 { background: rgba(149,165,166,0.7); border-color:#95a5a6; }
.color-9 { background: rgba(52,73,94,0.7); border-color:#34495e; }
.color-10 { background: rgba(243,156,18,0.7); border-color:#f39c12; }
</style>
</head>

<body>
<div class="container">
<header>
<h1>CSS Grid Layout Generator</h1>
<p class="description">Does that grid thing that is always hard to remember</p>
</header>

<div class="app-container">
<div class="controls panel">
<h2>Grid Settings</h2>

<div class="form-group">
<label for="columns">Number of Columns</label>
<input type="number" id="columns" min="1" max="24" value="3">
</div>

<div class="form-group">
<label for="rows">Number of Rows</label>
<input type="number" id="rows" min="1" max="24" value="3">
</div>

<div class="form-group">
<label for="col-gap">Column Gap (px)</label>
<input type="number" id="col-gap" min="0" max="50" value="0">
</div>

<div class="form-group">
<label for="row-gap">Row Gap (px)</label>
<input type="number" id="row-gap" min="0" max="50" value="0">
</div>

<button id="apply-btn">Apply Settings</button>
<button id="show-code-btn">Show Code</button>
<button id="reset-btn">Reset Grid</button>
</div>

<div class="grid-section panel">
<h2>Grid Preview</h2>
<p>Click and drag to create grid items</p>
<div class="grid-display">
<div class="grid-container" id="grid-container"></div>
</div>
</div>
</div>

<div class="code-output panel hidden" id="code-output">
<h2>Generated Code</h2>

<div class="html-code">
<h3>HTML</h3>
<pre id="html-code"></pre>
</div>

<div class="css-code">
<h3>CSS</h3>
<pre id="css-code"></pre>
</div>

<button class="copy-btn" id="copy-btn">Copy Both</button>
</div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const columnsInput = document.getElementById("columns");
    const rowsInput = document.getElementById("rows");
    const colGapInput = document.getElementById("col-gap");
    const rowGapInput = document.getElementById("row-gap");

    const applyBtn = document.getElementById("apply-btn");
    const showCodeBtn = document.getElementById("show-code-btn");
    const resetBtn = document.getElementById("reset-btn");
    const copyBtn = document.getElementById("copy-btn");

    const gridContainer = document.getElementById("grid-container");
    const codeOutput = document.getElementById("code-output");
    const htmlCode = document.getElementById("html-code");
    const cssCode = document.getElementById("css-code");

    let isDrawing = false;
    let startCell = null;
    let currentItem = null;
    let gridItems = [];
    let itemCount = 0;

    createGrid(3, 3);

    applyBtn.addEventListener("click", () => {
        const c = parseInt(columnsInput.value) || 3;
        const r = parseInt(rowsInput.value) || 3;

        createGrid(c, r);
        codeOutput.classList.add("hidden");
    });

    showCodeBtn.addEventListener("click", generateCode);

    resetBtn.addEventListener("click", () => {
        gridItems.forEach(i => i.element.remove());
        gridItems = [];
        itemCount = 0;
        codeOutput.classList.add("hidden");
    });

    copyBtn.addEventListener("click", () => {
        const combined =
            "HTML\n" +
            htmlCode.textContent +
            "\n\nCSS\n" +
            cssCode.textContent;

        navigator.clipboard.writeText(combined);
    });

    function createGrid(columns, rows) {
        gridContainer.innerHTML = "";

        gridItems.forEach(i => i.element.remove());
        gridItems = [];
        itemCount = 0;

        gridContainer.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
        gridContainer.style.gridTemplateRows = `repeat(${rows}, 1fr)`;
        gridContainer.style.gap = `${rowGapInput.value}px ${colGapInput.value}px`;

        for (let r = 1; r <= rows; r++) {
            for (let c = 1; c <= columns; c++) {
                const cell = document.createElement("div");
                cell.className = "grid-cell";
                cell.dataset.row = r;
                cell.dataset.col = c;

                if (r === 1) {
                    const colLabel = document.createElement("div");
                    colLabel.className = "axis-label col-label";
                    colLabel.textContent = `${c} (1fr)`;
                    cell.appendChild(colLabel);
                }
                if (c === 1) {
                    const rowLabel = document.createElement("div");
                    rowLabel.className = "axis-label row-label";
                    rowLabel.textContent = `${r} (1fr)`;
                    cell.appendChild(rowLabel);
                }

                cell.addEventListener("mousedown", startDrawing);
                cell.addEventListener("mouseover", continueDrawing);
                document.addEventListener("mouseup", stopDrawing);

                gridContainer.appendChild(cell);
            }
        }
    }

    function startDrawing(e) {
        e.preventDefault();
        isDrawing = true;

        const cell = e.target.closest(".grid-cell");
        startCell = cell;

        createItem(cell);
    }

    function createItem(cell) {
        if (!cell) return;

        itemCount++;
        const item = document.createElement("div");
        const colorClass = `color-${((itemCount - 1) % 10) + 1}`;
        item.className = `grid-item ${colorClass}`;

        const num = document.createElement("div");
        num.className = "grid-item-number";
        num.textContent = "div " + itemCount;

        const x = document.createElement("div");
        x.className = "grid-item-close";
        x.textContent = "Ã—";
        x.addEventListener("click", (ev) => {
            ev.stopPropagation();
            item.remove();
            gridItems = gridItems.filter(i => i.element !== item);
        });

        item.appendChild(num);
        item.appendChild(x);
        gridContainer.appendChild(item);

        const row = parseInt(cell.dataset.row);
        const col = parseInt(cell.dataset.col);

        currentItem = item;
        updateItemPosition(item, row, col, row, col);

        gridItems.push({
            element: item,
            startRow: row,
            startCol: col,
            endRow: row,
            endCol: col
        });
    }

    function continueDrawing(e) {
        if (!isDrawing || !currentItem) return;

        const cell = e.target.closest(".grid-cell");
        if (!cell) return;

        const startRow = parseInt(startCell.dataset.row);
        const startCol = parseInt(startCell.dataset.col);

        const endRow = parseInt(cell.dataset.row);
        const endCol = parseInt(cell.dataset.col);

        updateItemPosition(
            currentItem,
            startRow,
            startCol,
            endRow,
            endCol
        );
    }

    function stopDrawing() {
        isDrawing = false;
        currentItem = null;
        startCell = null;
    }

    function updateItemPosition(item, r1, c1, r2, c2) {
        const sr = Math.min(r1, r2);
        const er = Math.max(r1, r2);
        const sc = Math.min(c1, c2);
        const ec = Math.max(c1, c2);

        const cellWidth = gridContainer.clientWidth / parseInt(columnsInput.value);
        const cellHeight = gridContainer.clientHeight / parseInt(rowsInput.value);

        item.style.top = (cellHeight * (sr - 1)) + "px";
        item.style.left = (cellWidth * (sc - 1)) + "px";
        item.style.width = (cellWidth * (ec - sc + 1)) + "px";
        item.style.height = (cellHeight * (er - sr + 1)) + "px";

        const itemRef = gridItems.find(i => i.element === item);
        if (itemRef) {
            itemRef.startRow = sr;
            itemRef.startCol = sc;
            itemRef.endRow = er;
            itemRef.endCol = ec;
        }
    }

    function generateCode() {
        let htmlOutput = "";
        let cssOutput = "";

        htmlOutput += `<div class="container">\n`;
        gridItems.forEach(i => {
            htmlOutput += `  <div class="item"></div>\n`;
        });
        htmlOutput += `</div>`;

        cssOutput += `.container {\n`;
        cssOutput += `  display: grid;\n`;
        cssOutput += `  grid-template-columns: repeat(${columnsInput.value}, 1fr);\n`;
        cssOutput += `  grid-template-rows: repeat(${rowsInput.value}, 1fr);\n`;
        cssOutput += `  column-gap: ${colGapInput.value}px;\n`;
        cssOutput += `  row-gap: ${rowGapInput.value}px;\n`;
        cssOutput += `}\n\n`;

        gridItems.forEach((i, index) => {
            cssOutput += `.container .item:nth-child(${index + 1}) {\n`;
            cssOutput += `  grid-column: ${i.startCol} / ${i.endCol + 1};\n`;
            cssOutput += `  grid-row: ${i.startRow} / ${i.endRow + 1};\n`;
            cssOutput += `}\n\n`;
        });

        htmlCode.textContent = htmlOutput.trim();
        cssCode.textContent = cssOutput.trim();

        codeOutput.classList.remove("hidden");
    }
});
</script>
</body>
</html>
